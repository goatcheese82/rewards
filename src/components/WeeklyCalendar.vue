<!-- WeeklyCalendar.vue -->
<template>
  <div class="calendar-container">
    <h2>Odin's Daily Rewards</h2>

    <button @click="print" class="print-btn">Print Calendar</button>

    <div class="calendar">
      <!-- Headers -->
      <div class="day-header" v-for="day in days" :key="day">
        {{ day }}
      </div>

      <!-- Calendar cells -->
      <div v-for="(day, index) in weekData" :key="index" class="day-cell">
        <div class="date">{{ day.date }}</div>
        <div class="options">
          <!-- Person Option -->
          <div class="option-group">
            <svg class="icon" viewBox="0 0 24 24" width="24" height="24">
              <path
                fill="currentColor"
                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H6v-.99c.2-.72 3.3-2.01 6-2.01s5.8 1.29 6 2v1z"
              />
            </svg>
            <div class="checkbox-pair">
              <label>
                <input
                  type="checkbox"
                  v-model="day.person.yes"
                  @change="uncheckPair('person', index, 'yes')"
                />
                Yes
              </label>
              <label>
                <input
                  type="checkbox"
                  v-model="day.person.no"
                  @change="uncheckPair('person', index, 'no')"
                />
                No
              </label>
            </div>
          </div>

          <!-- Ear Option -->
          <div class="option-group">
            <svg
              height="24"
              width="24"
              viewBox="0 0 512 512"
              transform="matrix(-1, 0, 0, 1, 0, 0)"
            >
              <g id="ear" stroke-width="0"></g>
              <g id="ear" stroke-linecap="round" stroke-linejoin="round"></g>
              <g id="ear">
                <g>
                  <path
                    class="st0"
                    d="M365.897,450.719l-0.89-0.095c0.079,0.071-0.667,2.741-3.178,5.959c-3.655,4.902-10.694,10.964-19.672,15.398 c-9.01,4.489-19.879,7.484-31.638,7.476c-13.697-0.04-28.697-3.893-44.699-14.968c-15.334-10.703-23.28-19.276-28.587-27.904 c-3.973-6.523-6.642-13.499-9.201-22.501c-3.845-13.434-7.134-31.16-14.301-54.32c-7.166-23.184-18.274-51.707-37.835-87.666 c-15.604-28.562-28.999-71.165-28.904-111.494c0-16.915,2.289-33.41,7.389-48.481c5.117-15.096,12.951-28.777,24.36-40.631 c26.982-27.872,58.094-38.868,87.682-38.947c21.42-0.016,41.966,5.982,58.619,16.04c16.7,10.051,29.333,24.027,35.801,39.575 l30.033-12.522c-9.598-22.961-27.252-41.791-49.038-54.932C320.022,7.572,293.866,0.016,266.424,0 c-37.835-0.08-78.292,14.762-111.105,48.91c-15.016,15.556-25.328,33.719-31.765,52.788c-6.451,19.084-9.105,39.082-9.105,58.905 c0.095,47.329,14.841,93.72,32.862,127.035c16.525,30.406,26.378,54.519,33.004,74.462c4.958,14.968,8.12,27.602,10.901,39.082 c4.178,17.114,7.389,32.193,15.413,47.376c3.988,7.532,9.184,14.842,15.843,21.873c6.674,7.04,14.778,13.824,24.756,20.769 c21.103,14.722,43.19,20.848,63.291,20.8c23.82-0.032,44.572-8.184,59.843-19.124c7.659-5.514,14.014-11.735,18.814-18.567 c4.703-6.857,8.247-14.389,8.374-23.589H365.897z"
                  ></path>
                  <path
                    class="st0"
                    d="M297.648,257.032c-11.393,2.122-21.785,8.613-28.936,18.346c-7.198,9.725-11.187,22.477-11.171,37.001 c0,7.778,1.128,16.097,3.464,24.876c4.052,15.135,10.996,27.49,20.244,36.309c9.184,8.811,20.943,13.952,33.13,13.92 c12.697,0.032,25.25-5.53,35.404-15.477c6.722-6.547,10.868-14.889,13.316-23.788c2.447-8.93,3.337-18.608,3.337-28.888 c0-17.154-2.511-36.095-5.8-55.695c-3.29-19.585-7.374-39.805-10.726-59.081c-3.686-20.855-9.486-43.134-21.23-61.455 c-5.879-9.128-13.395-17.312-23.009-23.199c-9.582-5.895-21.198-9.272-34.116-9.241c-0.985,0-1.97,0.016-2.956,0.056 c-15.748,0.5-29.159,6.372-38.232,15.937c-9.121,9.526-13.825,21.842-15.589,34.522c-0.921,6.682,3.734,12.847,10.408,13.769 c6.674,0.929,12.84-3.726,13.761-10.4v-0.008c1.255-9.041,4.418-16.208,9.026-20.975c4.656-4.728,10.837-7.961,21.548-8.454 l2.034-0.04c8.85,0.032,15.54,2.114,21.372,5.657c8.692,5.276,15.78,14.596,21.245,26.791c5.483,12.124,9.184,26.775,11.695,41.219 c3.147,18.067,6.77,36.421,9.804,54.011c-8.247-4.442-17.495-6.777-26.886-6.769C305.069,255.976,301.351,256.326,297.648,257.032z M341.728,313.109c0.015,0.19,0.079,0.366,0.11,0.557c0.064,1.882,0.191,3.869,0.191,5.665c0.016,8.818-0.81,16.478-2.464,22.405 c-1.652,5.974-3.988,10.042-6.8,12.776c-6.531,6.284-12.744,8.541-18.386,8.565c-5.418-0.024-10.9-2.098-16.303-7.19 c-5.355-5.085-10.392-13.316-13.491-24.924c-1.843-6.944-2.638-13.156-2.638-18.583c0.016-10.17,2.701-17.503,6.388-22.493 c3.718-4.973,8.421-7.818,13.856-8.874c2.209-0.422,4.417-0.627,6.594-0.627c8.089,0.015,15.588,2.812,21.436,8.096 C336.039,293.795,340.457,301.644,341.728,313.109z"
                  ></path>
                </g>
              </g>
            </svg>
            <div class="checkbox-pair">
              <label>
                <input
                  type="checkbox"
                  v-model="day.ear.yes"
                  @change="uncheckPair('ear', index, 'yes')"
                />
                Yes
              </label>
              <label>
                <input
                  type="checkbox"
                  v-model="day.ear.no"
                  @change="uncheckPair('ear', index, 'no')"
                />
                No
              </label>
            </div>
          </div>

          <!-- Shirt Option -->
          <div class="option-group">
            <svg class="icon" viewBox="0 0 20 22">
              <path
                fill="currentColor"
                d="M16 2l4 4v1l-4 4v11H4V11L0 7V6l4-4h4l2 3h0l2-3z"
              />
            </svg>
            <div class="checkbox-pair">
              <label>
                <input
                  type="checkbox"
                  v-model="day.shirt.yes"
                  @change="uncheckPair('shirt', index, 'yes')"
                />
                Yes
              </label>
              <label>
                <input
                  type="checkbox"
                  v-model="day.shirt.no"
                  @change="uncheckPair('shirt', index, 'no')"
                />
                No
              </label>
            </div>
          </div>
        </div>

        <!-- Notes Section -->
        <div class="notes-section">
          <p>Notes</p>
          <div class="ruled-line"></div>
          <div></div>
          <div class="ruled-line"></div>
          <div></div>
          <div class="ruled-line"></div>
          <div></div>
          <div class="ruled-line"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="symbol-key">
    <h3>Behavior Key</h3>
    <div class="key-items">
      <div class="key-item">
        <svg class="icon" viewBox="0 0 24 24" width="24" height="24">
          <path
            fill="currentColor"
            d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm6 5H6v-.99c.2-.72 3.3-2.01 6-2.01s5.8 1.29 6 2v1z"
          />
        </svg>
        <span>Respects others</span>
      </div>

      <div class="key-item">
        <svg
          height="24"
          width="24"
          viewBox="0 0 512 512"
          transform="matrix(-1, 0, 0, 1, 0, 0)"
        >
          <g id="ear" stroke-width="0"></g>
          <g id="ear" stroke-linecap="round" stroke-linejoin="round"></g>
          <g id="ear">
            <g>
              <path
                class="st0"
                d="M365.897,450.719l-0.89-0.095c0.079,0.071-0.667,2.741-3.178,5.959c-3.655,4.902-10.694,10.964-19.672,15.398 c-9.01,4.489-19.879,7.484-31.638,7.476c-13.697-0.04-28.697-3.893-44.699-14.968c-15.334-10.703-23.28-19.276-28.587-27.904 c-3.973-6.523-6.642-13.499-9.201-22.501c-3.845-13.434-7.134-31.16-14.301-54.32c-7.166-23.184-18.274-51.707-37.835-87.666 c-15.604-28.562-28.999-71.165-28.904-111.494c0-16.915,2.289-33.41,7.389-48.481c5.117-15.096,12.951-28.777,24.36-40.631 c26.982-27.872,58.094-38.868,87.682-38.947c21.42-0.016,41.966,5.982,58.619,16.04c16.7,10.051,29.333,24.027,35.801,39.575 l30.033-12.522c-9.598-22.961-27.252-41.791-49.038-54.932C320.022,7.572,293.866,0.016,266.424,0 c-37.835-0.08-78.292,14.762-111.105,48.91c-15.016,15.556-25.328,33.719-31.765,52.788c-6.451,19.084-9.105,39.082-9.105,58.905 c0.095,47.329,14.841,93.72,32.862,127.035c16.525,30.406,26.378,54.519,33.004,74.462c4.958,14.968,8.12,27.602,10.901,39.082 c4.178,17.114,7.389,32.193,15.413,47.376c3.988,7.532,9.184,14.842,15.843,21.873c6.674,7.04,14.778,13.824,24.756,20.769 c21.103,14.722,43.19,20.848,63.291,20.8c23.82-0.032,44.572-8.184,59.843-19.124c7.659-5.514,14.014-11.735,18.814-18.567 c4.703-6.857,8.247-14.389,8.374-23.589H365.897z"
              ></path>
              <path
                class="st0"
                d="M297.648,257.032c-11.393,2.122-21.785,8.613-28.936,18.346c-7.198,9.725-11.187,22.477-11.171,37.001 c0,7.778,1.128,16.097,3.464,24.876c4.052,15.135,10.996,27.49,20.244,36.309c9.184,8.811,20.943,13.952,33.13,13.92 c12.697,0.032,25.25-5.53,35.404-15.477c6.722-6.547,10.868-14.889,13.316-23.788c2.447-8.93,3.337-18.608,3.337-28.888 c0-17.154-2.511-36.095-5.8-55.695c-3.29-19.585-7.374-39.805-10.726-59.081c-3.686-20.855-9.486-43.134-21.23-61.455 c-5.879-9.128-13.395-17.312-23.009-23.199c-9.582-5.895-21.198-9.272-34.116-9.241c-0.985,0-1.97,0.016-2.956,0.056 c-15.748,0.5-29.159,6.372-38.232,15.937c-9.121,9.526-13.825,21.842-15.589,34.522c-0.921,6.682,3.734,12.847,10.408,13.769 c6.674,0.929,12.84-3.726,13.761-10.4v-0.008c1.255-9.041,4.418-16.208,9.026-20.975c4.656-4.728,10.837-7.961,21.548-8.454 l2.034-0.04c8.85,0.032,15.54,2.114,21.372,5.657c8.692,5.276,15.78,14.596,21.245,26.791c5.483,12.124,9.184,26.775,11.695,41.219 c3.147,18.067,6.77,36.421,9.804,54.011c-8.247-4.442-17.495-6.777-26.886-6.769C305.069,255.976,301.351,256.326,297.648,257.032z M341.728,313.109c0.015,0.19,0.079,0.366,0.11,0.557c0.064,1.882,0.191,3.869,0.191,5.665c0.016,8.818-0.81,16.478-2.464,22.405 c-1.652,5.974-3.988,10.042-6.8,12.776c-6.531,6.284-12.744,8.541-18.386,8.565c-5.418-0.024-10.9-2.098-16.303-7.19 c-5.355-5.085-10.392-13.316-13.491-24.924c-1.843-6.944-2.638-13.156-2.638-18.583c0.016-10.17,2.701-17.503,6.388-22.493 c3.718-4.973,8.421-7.818,13.856-8.874c2.209-0.422,4.417-0.627,6.594-0.627c8.089,0.015,15.588,2.812,21.436,8.096 C336.039,293.795,340.457,301.644,341.728,313.109z"
              ></path>
            </g>
          </g>
        </svg>
        <span>Listens well</span>
      </div>

      <div class="key-item">
        <svg class="icon" viewBox="0 0 20 22">
          <path
            fill="currentColor"
            d="M16 2l4 4v1l-4 4v11H4V11L0 7V6l4-4h4l2 3h0l2-3z"
          />
        </svg>
        <span>Remains clothed</span>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "WeeklyCalendar",
  data() {
    return {
      days: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      weekData: [],
    };
  },
  created() {
    this.initializeWeek();
  },
  methods: {
    initializeWeek() {
      const today = new Date();
      const currentDay = today.getDay();
      const mondayOffset = currentDay === 0 ? -6 : 1 - currentDay;
      const startOfWeek = new Date(today);
      startOfWeek.setDate(today.getDate() + mondayOffset);

      this.weekData = Array.from({ length: 5 }, (_, i) => {
        const date = new Date(startOfWeek);
        date.setDate(startOfWeek.getDate() + i);
        return {
          date: date.getDate(),
          person: { yes: false, no: false },
          ear: { yes: false, no: false },
          shirt: { yes: false, no: false },
        };
      });
    },
    uncheckPair(type, dayIndex, selected) {
      if (selected === "yes" && this.weekData[dayIndex][type].yes) {
        this.weekData[dayIndex][type].no = false;
      } else if (selected === "no" && this.weekData[dayIndex][type].no) {
        this.weekData[dayIndex][type].yes = false;
      }
    },
    print() {
      window.print();
    },
  },
};
</script>

<style scoped>
#tv {
  max-width: 200px;
}
.calendar-container {
  /* max-width: 800px; */
  margin: 20px auto;
  padding: 20px;
}

.print-btn {
  margin-bottom: 20px;
  padding: 8px 16px;
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.calendar {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
  border: 1px solid #ddd;
  padding: 10px;
}

.day-header {
  font-weight: bold;
  text-align: center;
  padding: 10px;
  background-color: #f5f5f5;
}

.day-cell {
  border: 1px solid #ddd;
  padding: 10px;
  min-height: 100px;
  display: flex;
  flex-direction: column;
}

.date {
  font-weight: bold;
  font-size: 2em;
  margin-bottom: 15px;
  text-align: right;
  border-bottom: 1px solid black;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.option-group {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 5px;
  border-bottom: 1px solid #eee;
}

.checkbox-pair {
  display: flex;
  gap: 15px;
}

.checkbox-pair label {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.9rem;
}

.icon {
  width: 20px;
  height: 20px;
  color: #666;
}

/* Notes Section Styles */
.notes-section {
  margin-top: auto;
  padding-top: 15px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ruled-line {
  height: 1px;
  background: linear-gradient(to right, #ccc 50%, transparent 50%);
  background-size: 4px 1px;
  opacity: 0.5;
}

.symbol-key {
  margin: auto;
  margin-top: 30px;
  max-width: 800px;
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.symbol-key h3 {
  margin-bottom: 15px;
  color: #333;
}

.key-items {
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
}

.key-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.key-item .icon {
  width: 24px;
  height: 24px;
}

.key-item span {
  font-size: 0.9rem;
  color: #444;
}

@media print {
  .print-btn {
    display: none;
  }

  .calendar-container {
    margin: 5%;
    padding: 0;
  }

  .calendar {
    border: none;
  }

  .option-group {
    break-inside: avoid;
  }

  .ruled-line {
    background: #ccc;
    opacity: 0.3;
  }

  .symbol-key {
    border: none;
    padding: 10px 0;
  }
}
</style>